(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],{13:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(6),i=c.n(a),o=(c(13),c(0));var s=function(){return Object(o.jsx)("nav",{className:"deep-purple lighten-1",children:Object(o.jsxs)("div",{className:"nav-wrapper",children:[Object(o.jsx)("a",{href:"#",className:"brand-logo",children:"Shop"}),Object(o.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"#",children:"Repo"})})})]})})};var d=function(){return Object(o.jsx)("footer",{className:"page-footer deep-purple darken-4",children:Object(o.jsx)("div",{className:"footer-copyright",children:Object(o.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright Text",Object(o.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"More Links"})]})})})},l=c(7),j=c(8),u=c(2);var O=function(e,t){var c=t.type,n=t.payload,r=function(e,t){var c={};return"-"===t?c=Object(u.a)(Object(u.a)({},e),{},{quantity:e.quantity-1}):"+"===t&&(c=Object(u.a)(Object(u.a)({},e),{},{quantity:e.quantity+1})),c},a=function(t){return Object(u.a)(Object(u.a)({},e),{},{orders:e.orders.filter((function(e){return e.id!==t}))})};switch(c){case"SET_GOODS":return Object(u.a)(Object(u.a)({},e),{},{goods:n||[],isLoading:!1});case"ADD_TO_CART":if(e.orders.findIndex((function(e){return e.id===n.id}))<0){var i=Object(u.a)(Object(u.a)({},n),{},{quantity:1});return Object(u.a)(Object(u.a)({},e),{},{orders:[].concat(Object(j.a)(e.orders),[i]),alert:n.name})}var o=e.orders.map((function(e){return e.id===n.id?r(e,"+"):e}));return Object(u.a)(Object(u.a)({},e),{},{orders:o});case"DELETE_FROM_CART":return a(n.id);case"DELETE_ONE_GOOD":if(0===r(n,"-").quantity)return a(n.id);var s=e.orders.map((function(e){return e.id===n.id?r(e,"-"):e}));return Object(u.a)(Object(u.a)({},e),{},{orders:s});case"SHOW_CART_HANDLER":return Object(u.a)(Object(u.a)({},e),{},{isCartShow:!e.isCartShow});case"CLOSE_ALERT":return Object(u.a)(Object(u.a)({},e),{},{alert:""});default:return e}},b=Object(n.createContext)(),h={goods:[],isLoading:!0,orders:[],isCartShow:!1,alert:""},p=function(e){var t=e.children,c=Object(n.useReducer)(O,h),r=Object(l.a)(c,2),a=r[0],i=r[1];return a.setGoods=function(e){i({type:"SET_GOODS",payload:e})},a.addToCart=function(e){i({type:"ADD_TO_CART",payload:e})},a.deleteFromCart=function(e){i({type:"DELETE_FROM_CART",payload:{id:e}})},a.deleteOneGood=function(e){i({type:"DELETE_ONE_GOOD",payload:e})},a.showCartHandler=function(){i({type:"SHOW_CART_HANDLER"})},a.closeAlert=function(){i({type:"CLOSE_ALERT"})},Object(o.jsx)(b.Provider,{value:a,children:t})};var x=function(){return Object(o.jsx)("div",{className:"progress",children:Object(o.jsx)("div",{className:"indeterminate"})})};var m=function(e){var t=e.good,c=t.name,r=t.description,a=t.price,i=t.full_background,s=Object(n.useContext)(b).addToCart;return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(o.jsx)("img",{className:"activator",src:i,alt:c})}),Object(o.jsxs)("div",{className:"card-content",children:[Object(o.jsx)("span",{className:"card-title activator grey-text text-darken-4",children:c}),Object(o.jsx)("p",{children:r})]}),Object(o.jsxs)("div",{className:"card-action",children:[Object(o.jsx)("span",{style:{fontSize:"1.5rem"},children:a}),Object(o.jsx)("button",{className:"btn right",onClick:function(){return s(e.good)},children:"Buy"})]})]})};c(15);var v=function(){var e=Object(n.useContext)(b).goods,t=void 0===e?[]:e;return Object(o.jsx)("div",{className:"goods",children:t.map((function(e){return Object(o.jsx)(m,{good:e},e.id)}))})};c(16);var f=function(){var e=Object(n.useContext)(b),t=e.orders,c=void 0===t?[]:t,r=e.showCartHandler,a=void 0===r?Function.prototype:r,i=c.length;return Object(o.jsxs)("div",{className:"cart blue white-text",onClick:a,children:[Object(o.jsx)("i",{className:"material-icons small",children:"shopping_basket"}),Object(o.jsx)("span",{className:"cart-quantity",children:i||null})]})};var y=function(e){var t=e.good,c=t.id,r=t.name,a=t.price,i=t.quantity,s=Object(n.useContext)(b),d=s.deleteFromCart,l=void 0===d?Function.prototype:d,j=s.deleteOneGood,u=void 0===j?Function.prototype:j,O=s.addToCart,h=void 0===O?Function.prototype:O;return Object(o.jsxs)("li",{className:"collection-item",children:[r,":",Object(o.jsx)("i",{className:"material-icons quantity-btn tiny",onClick:function(){return u(e.good)},children:"remove_circle_outline"}),i,Object(o.jsx)("i",{className:"material-icons quantity-btn tiny",onClick:function(){return h(e.good)},children:"add_circle_outline"}),"x",a," =",i*a,Object(o.jsx)("i",{className:"material-icons secondary-content delete-order",onClick:function(){return l(c)},children:"remove_shopping_cart"})]})};var C=function(){var e=Object(n.useContext)(b),t=e.orders,c=void 0===t?[]:t,r=e.showCartHandler,a=void 0===r?Function.prototype:r,i=c.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(o.jsxs)("ul",{className:"collection with-header cart-list",children:[Object(o.jsxs)("li",{className:"collection-item active",children:["Cart",Object(o.jsx)("i",{className:"material-icons secondary-content close-cart",onClick:a,children:"close"})]}),c.length?c.map((function(e){return Object(o.jsx)(y,{good:e},e.id)})):Object(o.jsx)("li",{className:"collection-item",children:"Cart is empty"}),Object(o.jsxs)("li",{className:"collection-item",children:["Total price: ",i]})]})};var g=function(){var e=Object(n.useContext)(b),t=e.alert,c=void 0===t?"":t,r=e.closeAlert,a=void 0===r?Function.prototype:r;return Object(n.useEffect)((function(){var e=setTimeout(a,3e3);return function(){return clearTimeout(e)}}),[c]),Object(o.jsx)("div",{id:"toast-container",children:Object(o.jsxs)("div",{className:"toast",children:[c," added to Cart"]})})};var N=function(){var e=Object(n.useContext)(b),t=e.isLoading,c=e.isCartShow,r=e.alert,a=e.setGoods;return Object(n.useEffect)((function(){fetch("https://fortniteapi.io/v1/shop?lang=en",{headers:{Authorization:"0815a977-a75b072f-29286d76-e192b4a2"}}).then((function(e){return e.json()})).then((function(e){a(e.featured)}))}),[]),Object(o.jsxs)("main",{className:"container content",children:[Object(o.jsx)(f,{}),t?Object(o.jsx)(x,{}):Object(o.jsx)(v,{}),c&&Object(o.jsx)(C,{}),r&&Object(o.jsx)(g,{})]})};var _=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(s,{}),Object(o.jsx)(p,{children:Object(o.jsx)(N,{})}),Object(o.jsx)(d,{})]})};i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(_,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.d1c92413.chunk.js.map